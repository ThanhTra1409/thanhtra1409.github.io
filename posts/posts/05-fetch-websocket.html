<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Fetch API v√† WebSocket tr√™n tr√¨nh duy·ªát - Nguy·ªÖn Thanh Tr√†</title>
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üë®‚Äçüíª</text></svg>">
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>
  <div class="overlay" id="overlay">
    <ul class="menu">
      <li><a href="/" data-i18n="home">Home</a></li>
      <li><a href="/posts/" data-i18n="blog">Blog</a></li>
      <li><a href="/about/" data-i18n="about">About</a></li>
    </ul>
  </div>
  <header>
    <nav>
      <div class="brand"><a href="/" data-i18n="site-title">Nguy·ªÖn Thanh Tr√†</a></div>
      <ul>
        <li><a href="/" data-i18n="home">Home</a></li>
        <li><a href="/posts/" data-i18n="blog">Blog</a></li>
        <li><a href="/about/" data-i18n="about">About</a></li>
        <li class="lang-toggle-wrapper">
          <div id="lang-switch" class="lang-switch" data-lang="vi">
            <div class="lang-switch-slider"></div>
            <button id="lang-vn" class="lang-btn">VN</button>
            <button id="lang-en" class="lang-btn">EN</button>
          </div>
        </li>
      </ul>
      <div class="menu-toggle" onclick="toggleMenu()" aria-label="menu">‚ò∞</div>
    </nav>
  </header>
  <main>
    <article class="post">
      <h1>Fetch API v√† WebSocket tr√™n tr√¨nh duy·ªát</h1>
      <p class="meta">2025-12-07</p>
      <div class="featured-image"><img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=800&auto=format&fit=crop" alt="Fetch API v√† WebSocket tr√™n tr√¨nh duy·ªát"></div>
      <p>Trong ph√°t tri·ªÉn web hi·ªán ƒë·∫°i, vi·ªác giao ti·∫øp gi·ªØa client v√† server l√† thi·∫øt y·∫øu. JavaScript cung c·∫•p hai c√¥ng c·ª• ch√≠nh: <strong>Fetch API</strong> cho c√°c y√™u c·∫ßu HTTP th√¥ng th∆∞·ªùng v√† <strong>WebSocket</strong> cho giao ti·∫øp hai chi·ªÅu realtime.</p>
<p>B√†i vi·∫øt n√†y s·∫Ω gi·ªõi thi·ªáu c·∫£ hai c√¥ng ngh·ªá, ph√¢n bi·ªát khi n√†o n√™n d√πng c√°i n√†o, v√† c√°ch s·ª≠ d·ª•ng ch√∫ng trong ·ª©ng d·ª•ng th·ª±c t·∫ø.</p>
<img src="https://images.unsplash.com/photo-1555066931-4365d14bab8c?w=1200&auto=format&fit=crop" alt="Web Communication" style="max-width: 100%; height: auto; border-radius: 8px; margin: 20px 0;">
<h3>1. Fetch API - HTTP Request Hi·ªán ƒê·∫°i</h3>
<p>Fetch API thay th·∫ø XMLHttpRequest c≈©, cung c·∫•p c√∫ ph√°p ƒë∆°n gi·∫£n h∆°n v√† s·ª≠ d·ª•ng Promise.</p>
<h4>GET Request c∆° b·∫£n</h4>
<p>```javascript<br/>// GET request ƒë∆°n gi·∫£n<br/>fetch('https://jsonplaceholder.typicode.com/posts/1')<br/>  .then(response => response.json())<br/>  .then(data => console.log(data))<br/>  .catch(error => console.error('L·ªói:', error));</p>
<p>// S·ª≠ d·ª•ng async/await<br/>async function fetchPost() {<br/>  try {<br/>    const response = await fetch(<br/>      'https://jsonplaceholder.typicode.com/posts/1'<br/>    );</p>
<p>if (!response.ok) {<br/>      throw new Error(<code>HTTP error! status: ${response.status}</code>);<br/>    }</p>
<p>const data = await response.json();<br/>    console.log(data);<br/>  } catch (error) {<br/>    console.error('L·ªói:', error);<br/>  }<br/>}</p>
<p>fetchPost();<br/>```</p>
<h4>POST Request v·ªõi JSON</h4>
<p>```javascript<br/>async function createPost() {<br/>  try {<br/>    const response = await fetch(<br/>      'https://jsonplaceholder.typicode.com/posts',<br/>      {<br/>        method: 'POST',<br/>        headers: {<br/>          'Content-Type': 'application/json',<br/>        },<br/>        body: JSON.stringify({<br/>          title: 'B√†i vi·∫øt m·ªõi',<br/>          body: 'N·ªôi dung b√†i vi·∫øt',<br/>          userId: 1<br/>        })<br/>      }<br/>    );</p>
<p>const data = await response.json();<br/>    console.log('T·∫°o th√†nh c√¥ng:', data);<br/>  } catch (error) {<br/>    console.error('L·ªói:', error);<br/>  }<br/>}<br/>```</p>
<h4>X·ª≠ l√Ω Headers v√† Authentication</h4>
<p>```javascript<br/>async function fetchWithAuth() {<br/>  const response = await fetch('https://api.example.com/data', {<br/>    method: 'GET',<br/>    headers: {<br/>      'Authorization': 'Bearer YOUR_TOKEN',<br/>      'Content-Type': 'application/json'<br/>    }<br/>  });</p>
<p>// ƒê·ªçc headers t·ª´ response<br/>  console.log('Content-Type:', response.headers.get('Content-Type'));</p>
<p>return await response.json();<br/>}<br/>```</p>
<h4>Upload File</h4>
<p>```javascript<br/>async function uploadFile(file) {<br/>  const formData = new FormData();<br/>  formData.append('file', file);<br/>  formData.append('description', 'M√¥ t·∫£ file');</p>
<p>try {<br/>    const response = await fetch('https://api.example.com/upload', {<br/>      method: 'POST',<br/>      body: formData<br/>      // Kh√¥ng set Content-Type, browser t·ª± ƒë·ªông set<br/>    });</p>
<p>const result = await response.json();<br/>    console.log('Upload th√†nh c√¥ng:', result);<br/>  } catch (error) {<br/>    console.error('L·ªói upload:', error);<br/>  }<br/>}</p>
<p>// S·ª≠ d·ª•ng<br/>const fileInput = document.querySelector('input[type="file"]');<br/>fileInput.addEventListener('change', (e) => {<br/>  const file = e.target.files[0];<br/>  if (file) {<br/>    uploadFile(file);<br/>  }<br/>});<br/>```</p>
<h3>2. WebSocket - Giao ti·∫øp Realtime</h3>
<p>WebSocket cung c·∫•p k√™nh giao ti·∫øp hai chi·ªÅu, full-duplex gi·ªØa client v√† server.</p>
<h4>K·∫øt n·ªëi WebSocket c∆° b·∫£n</h4>
<p>```javascript<br/>// T·∫°o k·∫øt n·ªëi WebSocket<br/>const ws = new WebSocket('ws://localhost:8080');</p>
<p>// S·ª± ki·ªán khi k·∫øt n·ªëi th√†nh c√¥ng<br/>ws.onopen = (event) => {<br/>  console.log('K·∫øt n·ªëi WebSocket th√†nh c√¥ng');<br/>  ws.send('Xin ch√†o server!');<br/>};</p>
<p>// S·ª± ki·ªán khi nh·∫≠n tin nh·∫Øn<br/>ws.onmessage = (event) => {<br/>  console.log('Nh·∫≠n tin nh·∫Øn:', event.data);<br/>};</p>
<p>// S·ª± ki·ªán khi c√≥ l·ªói<br/>ws.onerror = (error) => {<br/>  console.error('L·ªói WebSocket:', error);<br/>};</p>
<p>// S·ª± ki·ªán khi ng·∫Øt k·∫øt n·ªëi<br/>ws.onclose = (event) => {<br/>  console.log('K·∫øt n·ªëi ƒë√≥ng. Code:', event.code);<br/>};</p>
<p>// G·ª≠i tin nh·∫Øn<br/>function sendMessage(message) {<br/>  if (ws.readyState === WebSocket.OPEN) {<br/>    ws.send(message);<br/>  } else {<br/>    console.error('WebSocket ch∆∞a s·∫µn s√†ng');<br/>  }<br/>}</p>
<p>// ƒê√≥ng k·∫øt n·ªëi<br/>function closeConnection() {<br/>  ws.close();<br/>}<br/>```</p>
<h4>·ª®ng d·ª•ng Chat ƒë∆°n gi·∫£n</h4>
<p>```javascript<br/>class ChatClient {<br/>  constructor(url) {<br/>    this.ws = new WebSocket(url);<br/>    this.setupEventHandlers();<br/>  }</p>
<p>setupEventHandlers() {<br/>    this.ws.onopen = () => {<br/>      console.log('K·∫øt n·ªëi chat th√†nh c√¥ng');<br/>      this.updateStatus('online');<br/>    };</p>
<p>this.ws.onmessage = (event) => {<br/>      const message = JSON.parse(event.data);<br/>      this.displayMessage(message);<br/>    };</p>
<p>this.ws.onerror = (error) => {<br/>      console.error('L·ªói:', error);<br/>      this.updateStatus('error');<br/>    };</p>
<p>this.ws.onclose = () => {<br/>      console.log('ƒê√£ ng·∫Øt k·∫øt n·ªëi');<br/>      this.updateStatus('offline');<br/>      // T·ª± ƒë·ªông k·∫øt n·ªëi l·∫°i sau 5 gi√¢y<br/>      setTimeout(() => this.reconnect(), 5000);<br/>    };<br/>  }</p>
<p>sendMessage(text, username) {<br/>    const message = {<br/>      type: 'message',<br/>      username: username,<br/>      text: text,<br/>      timestamp: new Date().toISOString()<br/>    };</p>
<p>this.ws.send(JSON.stringify(message));<br/>  }</p>
<p>displayMessage(message) {<br/>    const messageDiv = document.createElement('div');<br/>    messageDiv.className = 'message';<br/>    messageDiv.innerHTML = <code><br/>      <strong>${message.username}</strong>: ${message.text}<br/>      <span class="time">${new Date(message.timestamp).toLocaleTimeString()}</span><br/>    </code>;</p>
<p>document.getElementById('messages').appendChild(messageDiv);<br/>  }</p>
<p>updateStatus(status) {<br/>    const statusEl = document.getElementById('status');<br/>    statusEl.textContent = status;<br/>    statusEl.className = <code>status-${status}</code>;<br/>  }</p>
<p>reconnect() {<br/>    console.log('ƒêang k·∫øt n·ªëi l·∫°i...');<br/>    this.ws = new WebSocket(this.ws.url);<br/>    this.setupEventHandlers();<br/>  }<br/>}</p>
<p>// S·ª≠ d·ª•ng<br/>const chat = new ChatClient('ws://localhost:8080');</p>
<p>document.getElementById('sendBtn').addEventListener('click', () => {<br/>  const input = document.getElementById('messageInput');<br/>  const username = document.getElementById('username').value;</p>
<p>if (input.value.trim()) {<br/>    chat.sendMessage(input.value, username);<br/>    input.value = '';<br/>  }<br/>});<br/>```</p>
<h4>G·ª≠i/Nh·∫≠n Binary Data</h4>
<p>```javascript<br/>// G·ª≠i binary data<br/>const buffer = new ArrayBuffer(8);<br/>const view = new DataView(buffer);<br/>view.setInt32(0, 42);<br/>ws.send(buffer);</p>
<p>// Nh·∫≠n binary data<br/>ws.binaryType = 'arraybuffer';<br/>ws.onmessage = (event) => {<br/>  if (event.data instanceof ArrayBuffer) {<br/>    const view = new DataView(event.data);<br/>    console.log('Nh·∫≠n s·ªë:', view.getInt32(0));<br/>  }<br/>};<br/>```</p>
<h3>3. So s√°nh Fetch v√† WebSocket</h3>
<p>| T√≠nh nƒÉng | Fetch API | WebSocket |<br/>|---------|-----------|----------|<br/>| Giao th·ª©c | HTTP/HTTPS | WS/WSS |<br/>| K·∫øt n·ªëi | Request-Response | Full-duplex |<br/>| Realtime | Kh√¥ng | C√≥ |<br/>| Overhead | Cao (m·ªói request) | Th·∫•p (m·ªôt k·∫øt n·ªëi) |<br/>| S·ª≠ d·ª•ng cho | REST API, CRUD | Chat, Notification, Game |</p>
<h3>4. Khi n√†o d√πng g√¨?</h3>
<p><strong>D√πng Fetch API khi</strong>:<br/>- C·∫ßn g·ªçi/nh·∫≠n d·ªØ li·ªáu theo y√™u c·∫ßu<br/>- T∆∞∆°ng t√°c v·ªõi REST API<br/>- Kh√¥ng c·∫ßn realtime updates</p>
<p><strong>D√πng WebSocket khi</strong>:<br/>- C·∫ßn giao ti·∫øp hai chi·ªÅu realtime<br/>- ·ª®ng d·ª•ng chat, live notifications<br/>- Game multiplayer, live dashboard<br/>- C·∫ßn latency th·∫•p</p>
<p>Fetch API v√† WebSocket l√† hai c√¥ng c·ª• quan tr·ªçng trong web development. Fetch API ph√π h·ª£p cho c√°c t√°c v·ª• HTTP th√¥ng th∆∞·ªùng, trong khi WebSocket thi·∫øt y·∫øu cho ·ª©ng d·ª•ng realtime. Hi·ªÉu r√µ ∆∞u nh∆∞·ª£c ƒëi·ªÉm c·ªßa m·ªói c√¥ng ngh·ªá gi√∫p b·∫°n l·ª±a ch·ªçn ƒë√∫ng trong t·ª´ng t√¨nh hu·ªëng.</p>
<p>Trong b√†i ti·∫øp theo, ch√∫ng ta s·∫Ω t√¨m hi·ªÉu c√°ch x√¢y d·ª±ng TCP server v·ªõi Node.js, n·ªÅn t·∫£ng cho c√°c ·ª©ng d·ª•ng realtime phia server.</p>
<p>---</p>
<h3>T√†i li·ªáu tham kh·∫£o</h3>
<p>- [MDN Fetch API](https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API)<br/>- [MDN WebSocket API](https://developer.mozilla.org/en-US/docs/Web/API/WebSocket)<br/>- [JavaScript.info - Fetch](https://javascript.info/fetch)<br/>- [JavaScript.info - WebSocket](https://javascript.info/websocket)</p>
    </article>
    <section class="social-section">
      <div class="social-container">
        <h2 data-i18n="social-title">X&#227; h&#7897;i</h2>
        <div class="social-grid">
          <a href="https://github.com/ThanhTra1409" target="_blank" class="social-card">
            <i class="fab fa-github social-icon"></i>
            <h3>GitHub</h3>
            <p>@nttra204</p>
          </a>
          <a href="https://www.facebook.com/nguyen.thanh.tra.970568?locale=vi_VN" target="_blank" class="social-card">
            <i class="fab fa-facebook social-icon"></i>
            <h3>Facebook</h3>
            <p>Nguy&#7877;n Thanh Tr&#224;</p>
          </a>
          <a href="https://www.instagram.com/nttra204_/?igsh=MXVlc3p1NG4zdnBidw%3D%3D&utm_source=qr" target="_blank" class="social-card">
            <i class="fab fa-instagram social-icon"></i>
            <h3>Instagram</h3>
            <p>@nttra204_</p>
          </a>
          <a href="https://www.linkedin.com/in/thanh-tra-nguyen-84a46833a" target="_blank" class="social-card">
            <i class="fab fa-linkedin social-icon"></i>
            <h3>LinkedIn</h3>
            <p>Nguy&#7877;n Thanh Tr&#224;</p>
          </a>
        </div>
      </div>
    </section>
  </main>
  <footer>
    <div class="footer-content">
      <div class="footer-brand">
        <h3 data-i18n="site-title">Nguy·ªÖn Thanh Tr√†</h3>
        <p class="footer-tagline" data-i18n="footer-tagline">Building scalable solutions with passion</p>
      </div>
      <div class="footer-contact">
        <h4 data-i18n="contact-info">Th&#244;ng tin li&#234;n h&#7879;</h4>
        <div class="contact-info-grid">
          <div class="contact-info-item">
            <i class="fas fa-envelope"></i>
            <a href="mailto:ntra140924@gmail.com">ntra140924@gmail.com</a>
          </div>
          <div class="contact-info-item">
            <i class="fas fa-phone"></i>
            <a href="tel:0941779093">0941779093</a>
          </div>
        </div>
      </div>
      <div class="footer-bottom">
        <p><span data-i18n="footer-copyright">¬© 2025</span> <span data-i18n="site-title">Nguy·ªÖn Thanh Tr√†</span></p>
      </div>
    </div>
  </footer>
  <script src="/js/i18n.js"></script>
  <script>
  function toggleMenu(){
    document.body.classList.toggle('menu-open');
  }
  </script>
</body>
</html>